@progress-prefix:~"ci-pg";
@progress-ani-prefix:~"ci-pg-ani";

.@{progress-prefix}{
  &-line {
    font-size: @font-size-base;
  }

  &-outer {
    display: inline-block;
    width: 100%;
    margin-right: 0;
    padding-right: 0;
  }

  &-inner {
    position: relative;
    display: inline-block;
    width: 100%;
    overflow: hidden;
    vertical-align: middle;
    background-color: @progress-remaining-color;
    border-radius: @progress-radius;
  }


  &-show-info {
    margin-right: ~'calc(-2em - 8px)';
    padding-right: ~'calc(2em + 8px)';
  }

  &-bg {
    position: relative;
    background-color: @progress-default-color;
    border-radius: @progress-radius;
    transition: all 0.4s 0s;
  }

  &-status{
    &-active {
      .@{progress-prefix}-bg::before{
        background-color: @gray-900;
        position: absolute;
        inset: 0 0 0 0;
        opacity: 0;
        content: '';
        border-radius: 100px;
        animation: ~'@{progress-ani-prefix}-active' 1.5s infinite;
        z-index: 1;
      }
    }

    &-exception{
      .@{progress-prefix}-bg {
        background-color: @danger;
      }
    }

    &-success{
      .@{progress-prefix}-bg {
        background-color: @success;
      }
    }

  }
}

@keyframes ~"@{progress-ani-prefix}-active" {
  0% {
    transform: translateX(-100%) scaleX(0);
    opacity: 0.1;
  }

  20% {
    transform: translateX(-100%) scaleX(0);
    opacity: 0.5;
  }

  100% {
    transform: translateX(0) scaleX(1);
    opacity: 0;
  }
}